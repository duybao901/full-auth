[{"D:\\Document\\mern\\login\\client\\src\\index.js":"1","D:\\Document\\mern\\login\\client\\src\\App.js":"2","D:\\Document\\mern\\login\\client\\src\\reportWebVitals.js":"3","D:\\Document\\mern\\login\\client\\src\\components\\header\\Header.js":"4","D:\\Document\\mern\\login\\client\\src\\components\\body\\Body.js":"5","D:\\Document\\mern\\login\\client\\src\\components\\ultis\\notification\\Notification.js":"6","D:\\Document\\mern\\login\\client\\src\\redux\\store.js":"7","D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\appReducer.js":"8","D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\authReducer.js":"9","D:\\Document\\mern\\login\\client\\src\\redux\\contants\\index.js":"10","D:\\Document\\mern\\login\\client\\src\\redux\\actions\\authAction.js":"11","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\login\\Login.js":"12","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\register\\Register.js":"13","D:\\Document\\mern\\login\\client\\src\\components\\ultis\\validation\\validation.js":"14","D:\\Document\\mern\\login\\client\\src\\components\\ultis\\validation\\Validation.js":"15","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\activation\\ActivationEmail.js":"16","D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\tokenReducer.js":"17","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\forgotPassword\\ForgotPassword.js":"18","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\ressetPassword\\ResetPassword.js":"19","D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\profile\\Profile.js":"20","D:\\Document\\mern\\login\\client\\src\\components\\body\\home\\Home.js":"21"},{"size":324,"mtime":1611761404232,"results":"22","hashOfConfig":"23"},{"size":1319,"mtime":1612159812961,"results":"24","hashOfConfig":"23"},{"size":362,"mtime":1611645062509,"results":"25","hashOfConfig":"23"},{"size":1881,"mtime":1612763276062,"results":"26","hashOfConfig":"23"},{"size":1085,"mtime":1612710289776,"results":"27","hashOfConfig":"23"},{"size":514,"mtime":1611836095528,"results":"28","hashOfConfig":"23"},{"size":458,"mtime":1611761431951,"results":"29","hashOfConfig":"23"},{"size":208,"mtime":1611900865821,"results":"30","hashOfConfig":"23"},{"size":623,"mtime":1611914046168,"results":"31","hashOfConfig":"23"},{"size":116,"mtime":1611905157742,"results":"32","hashOfConfig":"23"},{"size":652,"mtime":1611914048892,"results":"33","hashOfConfig":"23"},{"size":3332,"mtime":1612683097792,"results":"34","hashOfConfig":"23"},{"size":4797,"mtime":1611899245776,"results":"35","hashOfConfig":"23"},{"size":612,"mtime":1611834579797,"results":"36","hashOfConfig":"23"},{"size":608,"mtime":1611834806411,"results":"37","hashOfConfig":"23"},{"size":1191,"mtime":1611851041400,"results":"38","hashOfConfig":"23"},{"size":294,"mtime":1611900713674,"results":"39","hashOfConfig":"23"},{"size":2192,"mtime":1612614977234,"results":"40","hashOfConfig":"23"},{"size":2949,"mtime":1612615224342,"results":"41","hashOfConfig":"23"},{"size":8895,"mtime":1612708415281,"results":"42","hashOfConfig":"23"},{"size":3363,"mtime":1612765743780,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1ke5tqf",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Document\\mern\\login\\client\\src\\index.js",[],["88","89"],"D:\\Document\\mern\\login\\client\\src\\App.js",[],"D:\\Document\\mern\\login\\client\\src\\reportWebVitals.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\header\\Header.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\Body.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\ultis\\notification\\Notification.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\store.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\appReducer.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\authReducer.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\contants\\index.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\actions\\authAction.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\login\\Login.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\register\\Register.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\ultis\\validation\\validation.js",["90","91"],"D:\\Document\\mern\\login\\client\\src\\components\\ultis\\validation\\Validation.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\activation\\ActivationEmail.js",[],"D:\\Document\\mern\\login\\client\\src\\redux\\reducers\\tokenReducer.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\forgotPassword\\ForgotPassword.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\ressetPassword\\ResetPassword.js",[],"D:\\Document\\mern\\login\\client\\src\\components\\body\\auth\\profile\\Profile.js",["92","93"],"import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { showErrorMessage, showSuccessRegisterMessage } from '../../../ultis/notification/Notification'\r\nimport { isLength, isMatch } from '../../../ultis/validation/Validation'\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n    name: '',\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n}\r\n\r\nfunction Profile() {\r\n    const auth = useSelector(state => state.auth);\r\n    const token = useSelector(state => state.token);\r\n    const { user, isAdmin } = auth;\r\n    const [data, setData] = useState(initialState);\r\n    const [avatar, setAvatar] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [callback, setCallback] = useState(false);\r\n\r\n    const { name, password, cf_password, err, success } = data;\r\n\r\n    const onHandleChange = (e) => {\r\n        setData({ ...data, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const onHandleChangeAvatar = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            const formData = new FormData();\r\n            const file = e.target.files[0];\r\n            if (!file) {\r\n                setData({ ...data, err: 'No files were uploaded', success: '' });\r\n                return null;\r\n            }\r\n            if (file.size > 1024 * 1024) {\r\n                setData({ ...data, err: 'Please upload a picture smaller than 1 MB.', success: '' });\r\n                return null;\r\n            }\r\n            if (file.type !== 'image/png' && file.type !== 'image/jpg' && file.type !== 'image/jpg' && file.type !== 'image/jpeg') {\r\n                setData({ ...data, err: 'Files format is incorrect', success: '' });\r\n                return null;\r\n            }\r\n            setLoading(true);\r\n            formData.append('file', file);\r\n            const res = await axios.post('/api/upload_avatar', formData, {\r\n                headers: { 'content-type': 'multipatch/form-data', Authorization: token }\r\n            })\r\n            setAvatar(res.data.url);\r\n\r\n            setLoading(false);\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    const updateInfor = async (e) => {\r\n        try {\r\n            console.log(avatar);\r\n            // const formData = new FormData();\r\n            const res = await axios.post('/user/update', {\r\n                name: name ? name : user.name,\r\n                avatar: avatar ? avatar : user.avatar\r\n            }, {\r\n                headers: { Authorization: token }\r\n            });\r\n            setData({ ...data, err: '', success: res.data.msg });\r\n        } catch (err) {\r\n            if (err) {\r\n                setData({ ...data, err: err.response.data.msg, success: '' })\r\n            }\r\n        }\r\n    }\r\n\r\n    const updatePassword = async () => {\r\n        try {\r\n            if (isLength(password)) {\r\n                setData({ ...data, err: 'Password must last at 6 characters', success: '' });\r\n                return null;\r\n            }\r\n            if (isMatch(password, cf_password)) {\r\n                setData({ ...data, err: 'Password not match', success: '' });\r\n                return null;\r\n            }\r\n            const res = await axios.post('/user/reset', { password }, {\r\n                headers: { Authorization: token }\r\n            })\r\n            setData({ ...data, err: '', success: res.data.msg });\r\n        } catch (err) {\r\n            if (err) {\r\n                setData({ ...data, err: err.response.data.msg, success: '' })\r\n            }\r\n        }\r\n    }\r\n\r\n    const onHandleSubmit = () => {\r\n\r\n        updateInfor();\r\n\r\n        if (password || cf_password) {\r\n            updatePassword();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {err && showErrorMessage(err)}\r\n            {success && showSuccessRegisterMessage(success)}\r\n            {loading && \"loading...\"}\r\n            <div className='profile'>\r\n                <div className='profile__left'>\r\n                    <h2>{isAdmin ? \"Admin Profile\" : \"User profile\"}</h2>\r\n                    <div className='profile__avatar'>\r\n                        <img src={avatar ? avatar : user.avatar} alt=''></img>\r\n                        <div>\r\n                            <i className=\"fa fa-camera\" aria-hidden=\"true\"></i>\r\n                            <span>Change</span>\r\n                            <input type='file' id=\"file_up\" onChange={onHandleChangeAvatar}></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className='profile__infor'>\r\n                        <div>\r\n                            <label htmlFor=\"name\">Name</label>\r\n                            <input type='text' name='name' id='name'\r\n                                placeholder=\"Enter your name...\" defaultValue={user.name}\r\n                                className=\"nes-input is-warning\"\r\n                                onChange={onHandleChange}></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"email\">Email</label>\r\n                            <input type='email' name='email' id='email'\r\n                                placeholder=\"Enter your email...\" defaultValue={user.email} disabled\r\n                                className=\"nes-input is-warning\"\r\n                            ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input type='password' name='password' id='password'\r\n                                placeholder=\"Enter your password...\" defaultValue={user.password}\r\n                                className=\"nes-input is-warning\"\r\n                                onChange={onHandleChange}></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                            <input type='password' name='cf_password' id='confirmPassword'\r\n                                placeholder=\"Enter your confirm password...\" defaultValue={user.cf_password}\r\n                                className=\"nes-input is-warning\"\r\n                                onChange={onHandleChange}></input>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"nes-btn is-warning\" onClick={onHandleSubmit}>Update</button>\r\n                    </div>\r\n                </div>\r\n                <div className='profile__right'>\r\n                    <h2>My order</h2>\r\n                    <table className='customers'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Name</th>\r\n                                <th>Email</th>\r\n                                <th>Admin</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Mark</td>\r\n                                <td>Otto</td>\r\n                                <td>@mdo</td>\r\n                                <td>@mdo</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Mark</td>\r\n                                <td>Otto</td>\r\n                                <td>@mdo</td>\r\n                                <td>@mdo</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Mark</td>\r\n                                <td>Otto</td>\r\n                                <td>@mdo</td>\r\n                                <td>@mdo</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Mark</td>\r\n                                <td>Otto</td>\r\n                                <td>@mdo</td>\r\n                                <td>@mdo</td>\r\n                            </tr>\r\n                            {/* <tr>\r\n                            <th>2</th>\r\n                            <td>Jacob</td>\r\n                            <td>Thornton</td>\r\n                            <td>@fat</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>3</th>\r\n                            <td>Larry</td>\r\n                            <td>the Bird</td>\r\n                            <td>@twitter</td>\r\n                        </tr> */}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","D:\\Document\\mern\\login\\client\\src\\components\\body\\home\\Home.js",["94","95","96"],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":7,"column":27,"nodeType":"103","messageId":"104","endLine":7,"endColumn":28,"suggestions":"105"},{"ruleId":"101","severity":1,"message":"102","line":7,"column":52,"nodeType":"103","messageId":"104","endLine":7,"endColumn":53,"suggestions":"106"},{"ruleId":"107","severity":1,"message":"108","line":22,"column":12,"nodeType":"109","messageId":"110","endLine":22,"endColumn":20},{"ruleId":"107","severity":1,"message":"111","line":22,"column":22,"nodeType":"109","messageId":"110","endLine":22,"endColumn":33},{"ruleId":"112","severity":1,"message":"113","line":7,"column":28,"nodeType":"114","endLine":7,"endColumn":91},{"ruleId":"115","severity":1,"message":"116","line":9,"column":17,"nodeType":"114","endLine":9,"endColumn":227},{"ruleId":"112","severity":1,"message":"113","line":12,"column":17,"nodeType":"114","endLine":12,"endColumn":87},"no-native-reassign",["117"],"no-negated-in-lhs",["118"],"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["119","120"],["121","122"],"no-unused-vars","'callback' is assigned a value but never used.","Identifier","unusedVar","'setCallback' is assigned a value but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","no-global-assign","no-unsafe-negation",{"messageId":"123","fix":"124","desc":"125"},{"messageId":"126","fix":"127","desc":"128"},{"messageId":"123","fix":"129","desc":"125"},{"messageId":"126","fix":"130","desc":"128"},"removeEscape",{"range":"131","text":"132"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"133","text":"134"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"135","text":"132"},{"range":"136","text":"134"},[148,149],"",[148,148],"\\",[173,174],[173,173]]